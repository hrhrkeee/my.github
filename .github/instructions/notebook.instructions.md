<!-- ============================================================
  .github/instructions/notebook.instructions.md
  ============================================================
  【このファイルの役割】
  Jupyter Notebook（*.ipynb）に対して自動適用されるパス固有のインストラクション。
  ノートブックの作成・編集時に従うべきルールを定義する。

  【何を記載するか】
  - ノートブックの命名規則
  - セル構成のガイドライン
  - サニティチェック・ミニマム実行の方針
  - データ生成やモデル検証のパターン

  【AIへの影響】
  - ノートブックファイルの作成・編集時に自動適用される
  - copilot-instructions.md と併用される
  ============================================================ -->
---
applyTo: "**/*.ipynb"
description: "Jupyter Notebookに適用される構成・命名規約とML実験ガイドライン"
---

# Notebook ガイドライン

## ファイル命名規則

- ファイル名は日本語で記載する（ノートブックのみ日本語ファイル名が許可される）
- 先頭に実行順の番号を付ける（ゼロパディング2桁）
- 例:
  - `01_基盤モデルを試す.ipynb`
  - `02_訓練データセットを用意する.ipynb`
  - `03_基盤モデルをFTする.ipynb`
  - `04_FT済みのモデルを確認する.ipynb`

## フォルダ構成

- ノートブックは `notebooks/` ディレクトリに配置する
- 必要に応じてモデル別・機能別のサブフォルダを作成してよい
- 例: `notebooks/bert/`, `notebooks/vit/`

## セル構成の基本

1. 最初のセル: タイトル・目的の説明（Markdown）
2. 環境セットアップ: インポート、定数定義、デバイス設定
3. データ準備: 擬似データ生成またはデータ読み込み
4. モデル定義・読み込み
5. 実行・推論・学習
6. 結果の可視化・評価

## サニティチェックの方針

- まずは最小構成（ミニマム）でモデルを実装・実行・学習する
- 擬似的に生成可能な最も簡単なタスクで動作確認を行う
- 小さなバッチサイズ、少ないエポック数で素早く検証する
- 具体的な設定・大規模データでの学習はスクリプト（src/ や main.py）で行う

## 擬似データ生成

- サニティチェック用に、torch.randn() や numpy で最小限のダミーデータを生成する
- データの形状とラベルの対応が正しいことを確認する
- 可能であれば、ノートブック単体で完結して実行できるようにする

## コメント

- セル内のコメントは日本語で記載する
- 各セクションの冒頭に処理の概要を Markdown セルで記述する
