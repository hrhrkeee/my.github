# ワークフローパターン

スキル内で複数ステップの処理を記述する際の設計パターン集。

## 目次
- チェックリストパターン
- 条件分岐パターン
- フィードバックループパターン

## チェックリストパターン

複雑な処理をステップに分割し、進捗を追跡する。

```markdown
## ワークフロー

チェックリストをコピーして進捗を管理する:

```
進捗:
- [ ] Step 1: データの確認
- [ ] Step 2: 前処理の実行
- [ ] Step 3: モデルの学習
- [ ] Step 4: 結果の検証
- [ ] Step 5: 出力の保存
```

**Step 1: データの確認**
[具体的な手順]

**Step 2: 前処理の実行**
[具体的な手順]
```

## 条件分岐パターン

タスクの種類に応じて異なるワークフローに誘導する。

```markdown
## ワークフロー判定

1. タスクの種類を判定する:

   **新規作成の場合** → 「作成ワークフロー」へ
   **既存の編集の場合** → 「編集ワークフロー」へ
   **分析・調査の場合** → 「分析ワークフロー」へ

2. 作成ワークフロー:
   - テンプレートを使用
   - 初期設定を行う
   - バリデーションを実行

3. 編集ワークフロー:
   - 既存ファイルを読み込む
   - 変更を適用
   - 変更後にバリデーション
```

## フィードバックループパターン

「実行 → 検証 → 修正 → 再実行」のサイクルで品質を確保する。

```markdown
## 処理フロー

1. 変更を適用する
2. **検証を実行する**: `python scripts/validate.py`
3. 検証が失敗した場合:
   - エラーメッセージを確認する
   - 問題を修正する
   - 検証を再実行する
4. **検証が成功するまで進まない**
5. 結果を保存する
```

このパターンは特に以下の場合に有効:
- バッチ操作（大量のファイル処理）
- 破壊的な変更（元に戻しにくい操作）
- 複雑なバリデーションルール
